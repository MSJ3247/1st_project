<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="./VertScreen_mainStyle.css">
  <title>VertScreen</title>
  <style>
    /* 프로필 드롭다운 */
    .profile { position:relative; display:none; align-items:center; cursor:pointer; }
    .avatar { width:36px; height:36px; border-radius:50%; background:var(--accent); display:flex; align-items:center; justify-content:center; font-weight:800; color:#000; }
    .dropdown { display:none; position:absolute; top:48px; right:0; background:var(--panel); border:1px solid var(--line); border-radius:var(--radius); overflow:hidden; min-width:140px; box-shadow: var(--shadow);}
    .dropdown a, .dropdown button { display:block; width:100%; padding:12px; background:none; border:none; color:var(--text); text-align:left; cursor:pointer; font-size:14px; }
    .dropdown a:hover, .dropdown button:hover { background:#22314b; }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="nav-wrap">
      <div class="brand">
        <a href="./vertscreen_main.html">
        <img src="./VertScreen_logo.png" alt="VertScreen Logo">
        </a>
      </div>
      <nav class="nav">
        <a href="./vertscreen_advertlist.html">광고 종류</a>
        <a href="./vertscreen_brand.html">브랜드 가치</a>
        <a href="./party-make01.html">파티 모집</a>
        <a href="./listTest.html">광고 제안</a>
        <a href="./review.html" id="reviewLink">리뷰 게시판</a>
      </nav>
      <div class="spacer"></div>
      <div class="actions" id="authArea">
        <a href="login.html" class="btn">로그인</a>
        <a href="login.html?mode=signup" class="btn primary">회원가입</a>
      </div>
      <div class="profile" id="profile">
        <div class="avatar" id="avatar">U</div>
        <div class="dropdown" id="dropdown">
          <div style="padding:12px;color:var(--muted)" id="welcomeMsg">사용자님 환영합니다!</div>
          <a href="./myPage.html">마이페이지</a>
          <button onclick="logout()">로그아웃</button>
        </div>
      </div>
    </div>
  </header>
  <main>
    <div class="screen">
      <div class="headline"><span class="accent">원하는</span>
        광고를 모두가 쉽게</div>
    </div>
  </main>
  <main>
    <!-- 광고 가능한 위치 -->
      <h2>광고 가능한 위치</h2>
      <div class="station-info">
      <div class="scroll-text">
      강남역 &emsp;· &emsp;홍대입구역&emsp; · &emsp;잠실역&emsp; · &emsp;서울역&emsp; · &emsp;사당역&emsp; · &emsp;건대입구역
      </div>
      </div>
  </main>
  <footer>
    <p><strong>Project A P M</strong></p>
    <p>대표자  채희수</p>
    <p>이메일 dooly123@naver.com</p>
    <p>연락처 010 1234 5678</p>
  </footer>
  <script>
    const profile = document.getElementById("profile");
    const dropdown = document.getElementById("dropdown");
    const authArea = document.getElementById("authArea");

    profile.addEventListener("click", () => {
      dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
    });
    function logout() {
      localStorage.removeItem("currentUser");
      location.reload();
    }
    window.onload = () => {
      const currentUser = localStorage.getItem("currentUser");
      if (currentUser) {
        authArea.style.display = "none";
        profile.style.display = "flex";
        document.getElementById("avatar").innerText = currentUser.charAt(0).toUpperCase();
        document.getElementById("welcomeMsg").innerText = currentUser + "님 환영합니다!";
      }
    };
    window.addEventListener("click", (e) => {
      if (!profile.contains(e.target)) {
        dropdown.style.display = "none";
      }
    });
    window.onload = () => {
    const currentUser = localStorage.getItem("currentUser");
    if (currentUser) {
      authArea.style.display = "none";
      profile.style.display = "flex";
      document.getElementById("avatar").innerText = currentUser.charAt(0).toUpperCase();
      document.getElementById("welcomeMsg").innerText = currentUser + "님 환영합니다!";
    }

    // 보호할 링크들
    const protectedLinks = [
      document.querySelector('a[href="./party-make01.html"]'),
      document.querySelector('a[href="./listTest.html"]') // 광고 제안 (나중에 실제 페이지 링크로 바꾸면 됨)
    ];

    protectedLinks.forEach(link => {
      link.addEventListener("click", (e) => {
        if (!currentUser) {
          e.preventDefault(); // 기본 이동 막기
          alert("로그인이 필요합니다.");
          window.location.href = "login.html"; // 로그인 페이지로 이동
        }
      });
    });
  };
  </script>
</body>
</html>

